name: Test REACT Agent

on:
  push:
    paths:
      - 'ai/REACT/**'
      - 'ai/pyproject.toml'
      - 'ai/uv.lock'
      - '.github/workflows/pytest-react-agent.yml'
  pull_request:
    paths:
      - 'ai/REACT/**'
      - 'ai/pyproject.toml'
      - 'ai/uv.lock'
      - '.github/workflows/pytest-react-agent.yml'

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Build test image
        working-directory: ./ai/REACT
        run: docker-compose -f docker-compose.test.yml build

      - name: Run tests
        working-directory: ./ai/REACT
        run: docker-compose -f docker-compose.test.yml up --abort-on-container-exit
        # env:
        #   # Add any environment variables your tests need here
        #   OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
        #   GROQ_API_KEY: ${{ secrets.GROQ_API_KEY }}
